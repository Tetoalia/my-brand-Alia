{"version":3,"sources":["../../src/models/Query.js"],"names":["mongoose","require","Joi","schema","Schema","name","type","String","required","email","date","Date","now","subject","message","versionKey","Query","model","validateQuery","query","object","username","string","min","max","validate","module","exports"],"mappings":";;AAAA,IAAMA,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMC,GAAG,GAAGD,OAAO,CAAC,WAAD,CAAnB;;AAEA,IAAME,MAAM,GAAG,IAAIH,QAAQ,CAACI,MAAb,CAAoB;AAC/BC,EAAAA,IAAI,EAAE;AAACC,IAAAA,IAAI,EAAEC,MAAP;AAAeC,IAAAA,QAAQ,EAAE;AAAzB,GADyB;AAE/BC,EAAAA,KAAK,EAAE;AAACH,IAAAA,IAAI,EAAEC,MAAP;AAAeC,IAAAA,QAAQ,EAAE;AAAzB,GAFwB;AAG/BE,EAAAA,IAAI,EAAE;AAAEJ,IAAAA,IAAI,EAAEK,IAAR;AAAc,eAASA,IAAI,CAACC;AAA5B,GAHyB;AAI/BC,EAAAA,OAAO,EAAC;AAACP,IAAAA,IAAI,EAAEC,MAAP;AAAeC,IAAAA,QAAQ,EAAE;AAAzB,GAJuB;AAK/BM,EAAAA,OAAO,EAAE;AAACR,IAAAA,IAAI,EAAEC,MAAP;AAAeC,IAAAA,QAAQ,EAAE;AAAzB;AALsB,CAApB,EAQb;AACEO,EAAAA,UAAU,EAAE;AADd,CARa,CAAf;AAaA,IAAMC,KAAK,GAAGhB,QAAQ,CAACiB,KAAT,CAAe,OAAf,EAAuBd,MAAvB,CAAd;;AAEA,IAAMe,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD,EAAW;AAC/B,MAAMhB,MAAM,GAAGD,GAAG,CAACkB,MAAJ,CAAW;AACtBC,IAAAA,QAAQ,EAAEnB,GAAG,CAACoB,MAAJ,GAAaC,GAAb,CAAiB,CAAjB,EAAoBC,GAApB,CAAwB,GAAxB,EAA6BhB,QAA7B,EADY;AAEtBC,IAAAA,KAAK,EAAEP,GAAG,CAACoB,MAAJ,GAAab,KAAb,GAAqBc,GAArB,CAAyB,CAAzB,EAA4BC,GAA5B,CAAgC,IAAhC,EAAsChB,QAAtC,EAFe;AAGtBK,IAAAA,OAAO,EAAEX,GAAG,CAACoB,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBC,GAArB,CAAyB,GAAzB,EAA8BhB,QAA9B,EAHa;AAItBM,IAAAA,OAAO,EAAEZ,GAAG,CAACoB,MAAJ,GAAaC,GAAb,CAAiB,EAAjB,EAAqBC,GAArB,CAAyB,GAAzB,EAA8BhB,QAA9B;AAJa,GAAX,CAAf;AAOA,SAAOL,MAAM,CAACsB,QAAP,CAAgBN,KAAhB,CAAP;AACD,CATD;;AAWAO,MAAM,CAACC,OAAP,GAAiB;AACfX,EAAAA,KAAK,EAALA,KADe;AAEfE,EAAAA,aAAa,EAAbA;AAFe,CAAjB","sourcesContent":["const mongoose = require(\"mongoose\");\r\nconst Joi = require(\"@hapi/joi\")\r\n\r\nconst schema = new mongoose.Schema({\r\n    name: {type: String, required: true},\r\n    email: {type: String, required: true},\r\n    date: { type: Date, default: Date.now },\r\n    subject:{type: String, required: true},\r\n    message: {type: String, required: true},\r\n}\r\n,\r\n  {\r\n    versionKey: false\r\n  }\r\n)\r\n\r\nconst Query = mongoose.model(\"Query\",schema);\r\n\r\nconst validateQuery = (query) => {\r\n  const schema = Joi.object({\r\n      username: Joi.string().min(5).max(500).required(),\r\n      email: Joi.string().email().min(5).max(1024).required(),\r\n      subject: Joi.string().min(10).max(500).required(),\r\n      message: Joi.string().min(10).max(500).required(),\r\n  })\r\n\r\n  return schema.validate(query)\r\n}\r\n\r\nmodule.exports = {\r\n  Query,\r\n  validateQuery,\r\n}"],"file":"Query.js"}